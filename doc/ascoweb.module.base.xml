<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<?xml-stylesheet href="../../fab/web/css/docbook/dm.css" type="text/css"?>
<sect1 id="ascoweb.module.base">
  <sect1info>
    <releaseinfo>$Id: ascoweb.module.base.xml 510 2008-04-30 13:57:28Z
    daniel.menard.bdsp $</releaseinfo>
  </sect1info>

  <title>Module Base</title>

  <sect2 id="ascoweb.module.base.config">
    <title>Configuration</title>

    <para>Configuration du module Base :</para>

    <itemizedlist>
      <listitem>
        <para>defaultop, js, database, filter, etc.</para>
      </listitem>

      <listitem>
        <para>config des différentes actions</para>
      </listitem>
    </itemizedlist>

    <para></para>

  </sect2>

  <sect2 id="ascoweb.module.base.errortpl">
    <title>Templates d'erreur</title>

    <para>Des <ulink url="?filename=template.introduction">templates</ulink>
    permettant d'afficher des messages d'erreur sont utilisés par plusieurs
    actions. Ils se trouvent dans le répertoire
    <filename>/modules/Base/templates/error</filename>.</para>

    <table>
      <title>Templates d'erreur</title>

      <tgroup cols="2">
        <thead>
          <row>
            <entry align="center">Fichier</entry>

            <entry align="center">Description</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry>error_base_noanswer.html</entry>

            <entry>Page affichée lorsque une recherche dans la base de données
            n'a donné aucun résultat.<para>Actions concernées : <ulink
            url="#ascoweb.module.base.actionSearch">Search</ulink>, <ulink
            url="#ascoweb.module.base.actionShow">Show</ulink></para></entry>
          </row>

          <row>
            <entry>error_base.html</entry>

            <entry>Page affichée lorsqu'une erreur intervient lors de
            l'interrogation de la base de données.<warning>
                <para>\$error : généré PAR QUI ?</para>
              </warning></entry>
          </row>

          <row>
            <entry>error.html</entry>

            <entry>Template simple permettant d'afficher uniquement le message
            d'erreur.<para>Actions concernées : <ulink
            url="#ascoweb.module.base.actionInform">Inform</ulink>, <ulink
            url="#ascoweb.module.base.actionLocate">Locate</ulink></para></entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect2>

  <sect2 id="ascoweb.module.base.actionClearSearchHistory">
    <title>Action ClearSearchHistory</title>

    <para>L'application ascoweb utilise l'action <ulink
    url="?class=DatabaseModule#actionClearSearchHistory">ClearSearchHistory</ulink>
    définie dans le module DatabaseModule de fab ainsi que sa
    configuration.</para>

    <para>Aucun fichier concernant cette action ne se trouve donc dans
    l'application ascoweb.</para>
  </sect2>

  <sect2 id="ascoweb.module.base.actionConfirmDelete">
    <title>Action ConfirmDelete</title>

    <para>L'action ConfirmDelete est une pseudo action définie dans fab et
    appelée à partir de l'action <ulink
    url="?class=DatabaseModule#actionDelete">Delete</ulink> du module
    DatabaseModule de fab pour demander une confirmation lors de la
    suppression de notices.</para>

    <para>Au niveau de l'application ascoweb, cette action étant réservée aux
    administrateurs, le droit d'accès est précisé dans la section
    <filename>actionConfirmDelete</filename> du fichier de configuration
    <filename>/config/Base.config</filename>.</para>

    <programlisting role="xml">    &lt;actionConfirmDelete&gt;
        &lt;access&gt;AdminBase&lt;/access&gt;
    &lt;/actionConfirmDelete&gt;</programlisting>
  </sect2>

  <sect2 id="ascoweb.module.base.actionDelete">
    <title>Action Delete</title>

    <para>L'application utilise l'action <ulink
    url="?class=DatabaseModule#actionDelete">Delete</ulink> définie dans le
    module DatabaseModule de fab.</para>

    <sect3>
      <title>Configuration</title>

      <para>La configuration de l'action Delete est définie dans la section
      <filename>actionDelete</filename> du fichier de configuration
      <filename>/config/Base.config</filename>.</para>
    </sect3>

    <sect3>
      <title>Templates</title>

      <para>L'action Delete utilise le <ulink
      url="#ascoweb.module.base.errortpl">template d'erreur</ulink>
      <filename>/modules/Base/templates/errors/error_base.html</filename></para>
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionDuplicate">
    <title>Action Duplicate</title>

    <para>L'application ascoweb utilise l'action <ulink
    url="?class=DatabaseModule#actionDuplicate">Duplicate</ulink> définie dans
    le module DatabaseModule de fab.</para>

    <sect3 id="ascoweb.module.base.actionDuplicate.config">
      <title>Configuration</title>

      <para>Les champs de la notice qui sont à dupliquer sont mentionnés dans
      la section <filename>actionDuplicate</filename>, sous section
      <filename>fields</filename> du fichier de configuration
      <filename>/config/Base.config</filename>.</para>

      <para>Par défaut, tous les champs de la notice sont dupliqués (la clé
      <filename>default</filename> a la valeur true) sauf ceux qui sont
      indiqués dans la configuration.</para>

      <para>Si un nouveau champ est ajouté à la base de données, son contenu
      apparaîtra dans la notice dupliquée. S'il ne doit pas y apparaître, il
      suffit alors d'ajouter dans la section <filename>fields</filename>
      :</para>

      <programlisting role="xml">&lt;NomDuChamp&gt;false&lt;/NomDuChamp&gt;</programlisting>
    </sect3>

    <sect3 id="ascoweb.module.base.actionDuplicate.tpl">
      <title>Templates</title>

      <para>L'action Duplicate utilise deux templates.</para>

      <table>
        <title>Templates utilisés par l'action Duplicate</title>

        <tgroup cols="2">
          <thead>
            <row>
              <entry align="center">Fichier</entry>

              <entry align="center">Description</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry>/modules/Base/templates/load.html</entry>

              <entry>Template utilisé pour afficher le formulaire de saisie de
              la notice.<para>Il permet d'afficher :</para><itemizedlist>
                  <listitem>
                    <para>soit le formulaire de saisie en fonction du type du
                    document,</para>
                  </listitem>

                  <listitem>
                    <para>soit le formulaire de saisie comprenant tous les
                    champs de la base.</para>
                  </listitem>
                </itemizedlist><para> Au début du fichier, on trouve les
              <ulink url="?filename=template.matchtemplates">templates
              match</ulink> utilisés plus bas dans le
              fichier.</para><para>Ensuite, on trouve la partie "modification"
              en fonction du type du document, et enfin, le formulaire avec
              tous les champs.</para><para>Le code JavaScript présent à la fin
              du formulaire permet de rendre disponible :</para><itemizedlist>
                  <listitem>
                    <para>l'index d'aide à la saisie, pour certains
                    champs,</para>
                  </listitem>

                  <listitem>
                    <para>pour le champ MotCle, la consultation du thesaurus
                    afin de choisir les descripteurs à injecter dans la zone
                    de saisie.</para>
                  </listitem>
                </itemizedlist><para>Le template sert également pour les
              actions <ulink url="#ascoweb.module.base.actionNew">New</ulink>
              et <ulink
              url="#ascoweb.module.base.actionLoad">Load</ulink>.</para></entry>
            </row>

            <row>
              <entry>/modules/Base/templates/error/error_base.html</entry>

              <entry><ulink url="#ascoweb.module.base.errortpl">Template
              d'erreur</ulink>.</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </sect3>

    <sect3 id="ascoweb.module.base.actionDuplicate.css">
      <title>Feuilles de style</title>

      <para>L'action Duplicate utilise à la fois des feuilles de style CSS
      définies dans fab et dans l'application. Vous ne pouvez modifier que les
      feuilles de style de l'application, soit :</para>

      <table>
        <title>Feuilles de styles utilisées par l'action Duplicate</title>

        <tgroup cols="2">
          <thead>
            <row>
              <entry align="center">Fichier</entry>

              <entry align="center">Description</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry>/web/css/ascodocpsy/formulaire.css</entry>

              <entry>Styles communs à tous les formulaires</entry>
            </row>

            <row>
              <entry>/web/css/ascodocpsy/load.css</entry>

              <entry>Styles spécifiques au formulaire de saisie</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </sect3>

    <sect3 id="ascoweb.module.base.actionDuplicate.img">
      <title>Images</title>

      <para></para>

      <table>
        <title>Images utilisées par l'action Duplicate</title>

        <tgroup cols="2">
          <thead>
            <row>
              <entry align="center">Fichier</entry>

              <entry align="center">Description</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry>/web/css/ascodocpsy/bullet_key.png</entry>

              <entry>Icone apparaissant dans les zones de saisie pour
              lesquelles un index d'aide à la saisie est disponible</entry>
            </row>

            <row>
              <entry>/web/css/ascodocpsy/help.png</entry>

              <entry>Icone pour le lien vers l'aide sur un champ</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </sect3>

    <sect3>
      <title id="ascoweb.module.base.actionDuplicate.js">Scripts</title>

      <para>L'action Duplicate utilise à la fois des scripts définis dans fab
      et dans l'application. Vous ne pouvez intervenir que sur les scripts de
      l'application, soit :</para>

      <table>
        <title>Scripts utilisés par l'action Duplicate</title>

        <tgroup cols="2">
          <thead>
            <row>
              <entry align="center">Fichier</entry>

              <entry align="center">Description</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry>/web/js/controls.js</entry>

              <entry>Bibliothèque pour les contrôles de saisie (fonctions,
              expressions régulières).</entry>
            </row>

            <row>
              <entry>/web/js/load.js</entry>

              <entry>Contrôles exécutés lors de la saisie d'une notice, pour
              chaque masque de saisie (un masque avec tous les champs, un
              masque par type de document)</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionExport">
    <title>Action Export</title>

    <para>L'application utilise l'action <ulink
    url="?class=DatabaseModule#actionExport">Export</ulink> définie dans le
    module DatabaseModule de fab.</para>

    <sect3>
      <title>Configuration</title>

      <para>Les formats d'export disponibles sont mentionnés </para>
    </sect3>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionExportByCat">
    <title>Action ExportByCat</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionExportByType">
    <title>Action ExportByType</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionImport">
    <title>Action Import</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionImportFiles">
    <title>Action ImportFiles</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionInform">
    <title>Action Inform</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionLoad">
    <title>Action Load</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionLoadFull">
    <title>Action LoadFull</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionLocate">
    <title>Action Locate</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionNew">
    <title>Action New</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionReplace">
    <title>Action Replace</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionReplaceForm">
    <title>Action ReplaceForm</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionSave">
    <title>Action Save</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionSearch">
    <title>Action Search</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionSearchForm">
    <title>Action SearchForm</title>

    <para>Formulaire de recherche</para>

    <sect3>
      <title>Configuration</title>

      <para></para>
    </sect3>

    <sect3>
      <title>Templates</title>

      <para></para>
    </sect3>

    <sect3>
      <title>Tables</title>

      <para></para>
    </sect3>

    <sect3>
      <title>Feuilles de style et images</title>

      <para></para>
    </sect3>

    <sect3>
      <title>Scripts JavaScript</title>

      <para></para>
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionShow">
    <title>Action Show</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionShowCaddie">
    <title>Action ShowCaddie</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>

  <sect2 id="ascoweb.module.base.actionValidateAll">
    <title>Action Validate</title>

    <para></para>

    <sect3>
      <title />
    </sect3>

    <sect3>
      <title />
    </sect3>
  </sect2>
  
      <table>
      <title>Images de l'application</title>

      <tgroup cols="2">
        <thead>
          <row>
            <entry align="center">Fichier</entry>

            <entry align="center">Description</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry>/web/css/ascodocpsy/application_form_add.png</entry>

            <entry>Icone du lien "Dupliquer la notice"</entry>
          </row>

          <row>
            <entry>/web/css/ascodocpsy/application_form_edit.png</entry>

            <entry>Icone du lien "Modifier la notice"</entry>
          </row>

          <row>
            <entry>/web/css/ascodocpsy/application_form_magnify.png</entry>

            <entry>Icone du lien "Voir la notice complète"</entry>
          </row>

          <row>
            <entry>/web/css/ascodocpsy/bullet_key.png</entry>

            <entry>Icone apparaissant dans les zones de saisie pour lesquelles
            un index d'aide à la saisie est disponible</entry>
          </row>

          <row>
            <entry>/web/css/ascodocpsy/cart_add.png</entry>

            <entry>Icone du lien "Ajouter la notice au panier" présent sur
            l'affichage de chaque notice</entry>
          </row>

          <row>
            <entry>/web/css/ascodocpsy/cart_delete.png</entry>

            <entry>Icone du lien "Supprimer la notice du panier" présent sur
            l'affichage de chaque notice, lorsque l'on visualise le contenu du
            panier</entry>
          </row>

          <row>
            <entry>/web/css/ascodocpsy/cart_put.png</entry>

            <entry>Icone du lien "Ajouter toutes les notices de la page au
            panier" présent au début et à la fin d'une page de
            réponses</entry>
          </row>

          <row>
            <entry>/web/css/ascodocpsy/cart_remove.png</entry>

            <entry>Icone du lien "Supprimer du panier toutes les notices de la
            page" présent au début et à la fin d'une page de notices lorsque
            l'on visualise le contenu du panier</entry>
          </row>

          <row>
            <entry>/web/css/ascodocpsy/help.png</entry>

            <entry>Icone pour le lien vers l'aide sur un champ</entry>
          </row>

          <row>
            <entry>/web/css/ascodocpsy/inform.png</entry>

            <entry>Icone pour les différents lien permettant d'obtenir des
            informations</entry>
          </row>

          <row>
            <entry>/web/css/ascodocpsy/loc.png</entry>

            <entry>Icone pour le lien "Localiser le périodique"</entry>
          </row>

          <row>
            <entry>/web/css/ascodocpsy/puce.gif</entry>

            <entry></entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  
</sect1>